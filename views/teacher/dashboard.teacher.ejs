<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/footer.css">
</head>
<body class="container">
    
    <%- include('../includes/navigation.ejs') %>

    <%
        const teacherId = req.params.teacherId;
        const addResultUrl = '/teacher/' + teacherId + '/add-student';
        const editResultUrl = '/teacher/' + teacherId + '/edit-student/';
        const deleteResultUrl = '/teacher/' + teacherId + '/delete-student/';
    %>
    
    <div class="hero-1 hero-top">
        <button class="btn btn-primary" onclick="location.href='<%= addResultUrl %>'">Add Record</button>
    </div>
    <div class="hero-2 hero-down">
        <h6 class="caption">
            Total <%= studentsCount %> 
            student<% if(studentsCount !== 1) { %>s<% } %>
        </h6>
        <table class="table table-striped table-light table-bordered">
            <thead>
                <tr>
                    <th class="col-2 th">Roll No.</th>
                    <th class="col-3 th">Name</th>
                    <th class="col-2 th">Date of Birth</th>
                    <th class="col-2 th">Score</th>
                    <th class="col-3 th">Actions</th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                <% students.forEach(student => { %>
                    <tr>
                        <td><%= student.rollno %></td>
                        <td><%= student.name %></td>
                        <td><%= moment(student.dob).format('DD-MM-YYYY') %></td>
                        <td><%= student.score %></td>
                        <td>
                            <button onclick="location.href='<%= editResultUrl %><%= student.rollno %>'" class="btn btn-info">
                                Edit
                            </button>
                            <button onclick="location.href='<%= deleteResultUrl %><%= student.rollno %>'" class="btn btn-danger">
                                Delete
                            </button>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>

    <%- include('../includes/footer.ejs') %>

<%- include('../includes/end.ejs') %>